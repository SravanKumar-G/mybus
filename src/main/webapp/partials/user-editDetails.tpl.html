<div class="container">
<legend>{{ headline }}</legend>

<!--- Edit User Form------->

<form name="userForm" class="form-horizontal" autocomplete="off" role="form" unsaved-warning-form >
    <div class="form-group">
        <label class="col-sm-2 control-label" for="editUsernameInput">Username<span class="data-required">*</span></label>
        <div class="col-sm-4" ng-class="{ 'has-error': userForm.usernameInput.$invalid && userForm.usernameInput.$dirty }">
            <input type="text" id="editUsernameInput" name="usernameInput" class="form-control" ng-model="user.userName"  ng-mouseleave="onMouseLeave(user.userName)"
                   placeholder="UserName" required>
            <span ng-show="(userForm.usernameInput.$dirty || userForm.submitted) && userForm.usernameInput.$error.required">Username required</span>
        </div>

        <label class="col-sm-2 control-label" for="editContactInput">Contact<span class="data-required">*</span></label>
        <div class="col-sm-4" ng-class="{ 'has-error': userForm.contactInput.$invalid && userForm.contactInput.$dirty }">
            <input type="number" id="editContactInput" name="contactInput" class="form-control" ng-model="user.contact" ng-minlength="10" ng-maxlength="10" placeholder="contact number" required>
        </div>

    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label" for="editFirstNameInput">First Name<span class="data-required">*</span></label>
        <div class="col-sm-4">
            <input type="text" id="editFirstNameInput" class="form-control" ng-model="user.firstName" placeholder="First Name" required >
        </div>
        <label class="col-sm-2 control-label" for="editLastNameInput">Last Name<span class="data-required">*</span></label>
        <div class="col-sm-4">
            <input type="text" id="editLastNameInput" class="form-control" ng-model="user.lastName" placeholder="Last Name" required>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label" for="editPasswordInput">Password<span class="data-required">*</span></label>
        <div class="col-sm-4">
            <input type="password" id="editPasswordInput" name="passwordInput" class="form-control" ng-model="user.password" placeholder="Password" required>
        </div>
        <label class="col-sm-2 control-label" for="editConfirmPasswordInput">Confirm Password<span class="data-required">*</span></label>
        <div class="col-sm-4">
            <input type="password" id="editConfirmPasswordInput" name="confirmPasswordInput" class="form-control" ng-model="confirmPassword"
                   pw-check="editPasswordInput" placeholder="Confirm Password" required>
            <div class="msg-block" ng-show="user.password !== confirmPassword">
                <span class="msg-error" ng-show="userForm.confirmPasswordInput.$error.pwmatch">Passwords don't match.</span>
            </div>
        </div>
    </div>

    <div class="form-group">

    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label" for="editEmailInput">Email<span class="data-required">*</span></label>
        <div class="col-sm-4" ng-class="{ 'has-error': userForm.emailInput.$invalid && userForm.emailInput.$dirty }">
            <input type="email" id="editEmailInput" name="emailInput" class="form-control" ng-model="user.email" placeholder="Email" required>
        </div>

        <label class="col-sm-2 control-label" for="editEmailInput">Secondary contact</label>
        <div class="col-sm-4" ng-class="{ 'has-error': userForm.secondaryContact.$invalid && userForm.secondaryContact.$dirty }">
            <input type="number" id="secondaryContact" name="secondaryContact" class="form-control" ng-model="user.secondaryContact" placeholder="Secondary contact">
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label" for="editAddressInput">Address</label>
        <div class="col-sm-4">
            <input type="text" id="editAddressInput" class="form-control" ng-model="user.address1" placeholder="Address">
        </div>
        <label class="col-sm-2 control-label">User Type<span class="data-required">*</span></label>
        <div class="col-sm-4">
            <select ng-options="role.id as role.name for role in roles" class="form-control" ng-model="user.role" required></select>
            <a ng-click="launchRoleAdd()">Add New Role</a>
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-2 control-label checkbox">Branch Office<span class="data-required">*</span></label>
        <div class="col-xs-4">
            <select id="branchOffice" ng-options="office.id as office.name for office in offices" class="form-control" ng-model="user.branchOfficeId" required></select>
            <a ng-click="launchAddBranchOffice()">Add New Branch</a>
        </div>
        <label class="col-xs-2 control-label checkbox" for="editActiveInput">Active</label>
        <div class="col-xs-2">
            <input type="checkbox" id="editActiveInput" class="form-control form-check-input" ng-model="user.active">
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4"> </div>
        <div class="col-xs-2 text-right">
            <button class="btn btn-primary" ng-click="save()">Save</button>
        </div>
        <div class="col-xs-2 next">
            <button  class="btn btn-danger" ng-click="cancelUser(userForm)">Cancel</button>
        </div>
   </div>
</form>
</div>

