<div class="container" style="width: 95%">
    <div ng-include="'partials/cargoLookup.tpl.html'"></div>
</div>

<div>
    <form name="shipments">
        <div class="form-group">
            <label class="col-sm-2 control-label">Start Date :</label>
            <div class="col-sm-2">
                <my-datepicker ng-model="stDt"></my-datepicker>
            </div>

            <label class="col-sm-2 control-label ">End Date :</label>
            <div class="col-sm-2" >
                <my-datepicker ng-model="endDt"></my-datepicker>
            </div>
            <button type="button" class="btn btn-sm btn-success " ng-click="search()"> Search Bookings </button></button>
            <button type="button" class="btn btn-sm btn-success " ng-click="exportToExcel('cargoBookings', 'CargoBookings')" ng-disabled = "searchPayments.$invalid ">Export to Excel </button></button>
        </div>
    </form>
    <br/>
    <table class="table table-bordered table-condensed table-hover" ng-table="cargoBookingsTable" id="cargoBookings">
        <tr ng-repeat="cargoBooking in cargoBookings">
            <td data-title="'Date'" sortable="'date'" class="clickable-item"><a href="#" ng-click="gotoBooking(cargoBooking.id)">{{cargoBooking.shipmentNumber}}</a> </td>
            <td data-title="'CreatedOn'" sortable="'createdAt'"  class="clickable-item">{{cargoBooking.createdAt| date}}</td>
            <td data-title="'From'" sortable="'attributes.fromBranchOfficeName'"  class="clickable-item">{{cargoBooking.attributes.fromBranchOfficeName}}</td>
            <td data-title="'To'" sortable="'attributes.toBranchOfficeName'"  class="clickable-item">{{cargoBooking.attributes.toBranchOfficeName}}</td>
            <td data-title="'BookedBy'" sortable="'bookedBy'"  class="clickable-item">{{cargoBooking.attributes.bookedBy}}</td>
            <td data-title="'PayNow'" sortable="'bookedBy'"  class="clickable-item"> <a href="#" ng-if="cargoBooking.attributes.LRType == 'To Pay' || cargoBooking.attributes.LRType == 'On-account'" ng-click="payCargoBooking(cargoBooking.id)">Pay Now</a></td>
        </tr>
        <tr ng-if="!cargoBookings || cargoBookings.length === 0">
            <td colspan="7">No Cargo Bookings found</td>
        </tr>
    </table>
</div>